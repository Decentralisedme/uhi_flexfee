{"abi":[{"type":"error","name":"InvalidPrice","inputs":[]},{"type":"error","name":"InvalidPriceOrLiquidity","inputs":[]},{"type":"error","name":"NotEnoughLiquidity","inputs":[]},{"type":"error","name":"PriceOverflow","inputs":[]}],"bytecode":{"object":"0x60556032600b8282823980515f1a607314602657634e487b7160e01b5f525f60045260245ffd5b305f52607381538281f3fe730000000000000000000000000000000000000000301460806040525f80fdfea26469706673582212208df1a76d67667f510b9006ab7747dff164ef72f571be8fb06e93c2ffe5b8277464736f6c63430008180033","sourceMap":"416:11803:53:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;416:11803:53;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x730000000000000000000000000000000000000000301460806040525f80fdfea26469706673582212208df1a76d67667f510b9006ab7747dff164ef72f571be8fb06e93c2ffe5b8277464736f6c63430008180033","sourceMap":"416:11803:53:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.24+commit.e11b9ed9\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"InvalidPrice\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidPriceOrLiquidity\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotEnoughLiquidity\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PriceOverflow\",\"type\":\"error\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"title\":\"Functions based on Q64.96 sqrt price and liquidity\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"notice\":\"Contains the math that uses square root of price as a Q64.96 and liquidity to compute deltas\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"lib/v4-core/src/libraries/SqrtPriceMath.sol\":\"SqrtPriceMath\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@ensdomains/=lib/v4-core/node_modules/@ensdomains/\",\":@openzeppelin/=lib/v4-periphery/lib/openzeppelin-contracts/\",\":@uniswap/v4-core/=lib/v4-periphery/lib/v4-core/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/v4-periphery/lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-gas-snapshot/=lib/v4-periphery/lib/forge-gas-snapshot/src/\",\":forge-std/=lib/forge-std/src/\",\":hardhat/=lib/v4-core/node_modules/hardhat/\",\":openzeppelin-contracts/=lib/v4-periphery/lib/openzeppelin-contracts/\",\":openzeppelin/=lib/v4-periphery/lib/openzeppelin-contracts/contracts/\",\":solmate/=lib/v4-periphery/lib/solmate/src/\",\":v4-core/=lib/v4-core/\",\":v4-periphery/=lib/v4-periphery/contracts/\",\"lib/v4-periphery:@uniswap/v4-core/=lib/v4-core/\"]},\"sources\":{\"lib/v4-core/src/libraries/FixedPoint96.sol\":{\"keccak256\":\"0x7731aeeba692b0ca5dac8f27803ec9e5ce98795a554c09ae05c220861bd0314e\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://963a8155e442d31c4541c387d333db0c02941ae3517e9173ad30ebcb4f6a14e9\",\"dweb:/ipfs/QmevAr8oG4WSoi5gBqQ53VzBuFbDKoZHfJwjuTmVhzm8Tc\"]},\"lib/v4-core/src/libraries/FullMath.sol\":{\"keccak256\":\"0x480e1e2741db0d1d5843c81d25576f182f64db9b92788ccbfc321a05d726f5e3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f5c9606989f6487189a70e383f88ec0b203f8232c6e901e51e421113008959fd\",\"dweb:/ipfs/QmeHAmfavKjLtcd1J53Bs9WbknH3jLZfmU9NeaUZCHCJwY\"]},\"lib/v4-core/src/libraries/SafeCast.sol\":{\"keccak256\":\"0x3dbf539c83fbda8bf5373f6c66b720ee4df1725e7e56b478bd938ea6cea4faf1\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://b18b54bc7503a5fcd65cf7473778e17de582b8ad994e620ec1101791caf96eac\",\"dweb:/ipfs/QmVyh8EbAutw3F8vBPKBjLgoNJszqqb58zRzjVG64mydk6\"]},\"lib/v4-core/src/libraries/SqrtPriceMath.sol\":{\"keccak256\":\"0xdfaa7439329a60e399f56affcbec49494057298267a8df58c322b458955ebb52\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://caa9647210a05ee3fdfd2239ca02e86f00f50d292b1427ded6ef8df05560eaaa\",\"dweb:/ipfs/QmPWA5nkYE6V8Ywd58wNo8FpjeDs4fqq57qjLWBFRHp35Q\"]},\"lib/v4-core/src/libraries/UnsafeMath.sol\":{\"keccak256\":\"0x2a8cb75af05f8557b698b089a0ab19e24279fffb7e87cddf5794404c7eaf1c69\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://85f68e6d614205f3f0f55f6ac41805e3a7d523d95bda1c443f2e75444443ffe3\",\"dweb:/ipfs/QmdCheMqxWNx4CbxG5MH9BUQeSMeeXF6DHkf7Aax4duRUe\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.24+commit.e11b9ed9"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"InvalidPrice"},{"inputs":[],"type":"error","name":"InvalidPriceOrLiquidity"},{"inputs":[],"type":"error","name":"NotEnoughLiquidity"},{"inputs":[],"type":"error","name":"PriceOverflow"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@ensdomains/=lib/v4-core/node_modules/@ensdomains/","@openzeppelin/=lib/v4-periphery/lib/openzeppelin-contracts/","@uniswap/v4-core/=lib/v4-periphery/lib/v4-core/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/v4-periphery/lib/openzeppelin-contracts/lib/erc4626-tests/","forge-gas-snapshot/=lib/v4-periphery/lib/forge-gas-snapshot/src/","forge-std/=lib/forge-std/src/","hardhat/=lib/v4-core/node_modules/hardhat/","openzeppelin-contracts/=lib/v4-periphery/lib/openzeppelin-contracts/","openzeppelin/=lib/v4-periphery/lib/openzeppelin-contracts/contracts/","solmate/=lib/v4-periphery/lib/solmate/src/","v4-core/=lib/v4-core/","v4-periphery/=lib/v4-periphery/contracts/","lib/v4-periphery:@uniswap/v4-core/=lib/v4-core/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"lib/v4-core/src/libraries/SqrtPriceMath.sol":"SqrtPriceMath"},"evmVersion":"cancun","libraries":{}},"sources":{"lib/v4-core/src/libraries/FixedPoint96.sol":{"keccak256":"0x7731aeeba692b0ca5dac8f27803ec9e5ce98795a554c09ae05c220861bd0314e","urls":["bzz-raw://963a8155e442d31c4541c387d333db0c02941ae3517e9173ad30ebcb4f6a14e9","dweb:/ipfs/QmevAr8oG4WSoi5gBqQ53VzBuFbDKoZHfJwjuTmVhzm8Tc"],"license":"GPL-2.0-or-later"},"lib/v4-core/src/libraries/FullMath.sol":{"keccak256":"0x480e1e2741db0d1d5843c81d25576f182f64db9b92788ccbfc321a05d726f5e3","urls":["bzz-raw://f5c9606989f6487189a70e383f88ec0b203f8232c6e901e51e421113008959fd","dweb:/ipfs/QmeHAmfavKjLtcd1J53Bs9WbknH3jLZfmU9NeaUZCHCJwY"],"license":"MIT"},"lib/v4-core/src/libraries/SafeCast.sol":{"keccak256":"0x3dbf539c83fbda8bf5373f6c66b720ee4df1725e7e56b478bd938ea6cea4faf1","urls":["bzz-raw://b18b54bc7503a5fcd65cf7473778e17de582b8ad994e620ec1101791caf96eac","dweb:/ipfs/QmVyh8EbAutw3F8vBPKBjLgoNJszqqb58zRzjVG64mydk6"],"license":"GPL-2.0-or-later"},"lib/v4-core/src/libraries/SqrtPriceMath.sol":{"keccak256":"0xdfaa7439329a60e399f56affcbec49494057298267a8df58c322b458955ebb52","urls":["bzz-raw://caa9647210a05ee3fdfd2239ca02e86f00f50d292b1427ded6ef8df05560eaaa","dweb:/ipfs/QmPWA5nkYE6V8Ywd58wNo8FpjeDs4fqq57qjLWBFRHp35Q"],"license":"GPL-2.0-or-later"},"lib/v4-core/src/libraries/UnsafeMath.sol":{"keccak256":"0x2a8cb75af05f8557b698b089a0ab19e24279fffb7e87cddf5794404c7eaf1c69","urls":["bzz-raw://85f68e6d614205f3f0f55f6ac41805e3a7d523d95bda1c443f2e75444443ffe3","dweb:/ipfs/QmdCheMqxWNx4CbxG5MH9BUQeSMeeXF6DHkf7Aax4duRUe"],"license":"GPL-2.0-or-later"}},"version":1},"ast":{"absolutePath":"lib/v4-core/src/libraries/SqrtPriceMath.sol","id":36899,"exportedSymbols":{"FixedPoint96":[32681],"FullMath":[32849],"SafeCast":[36366],"SqrtPriceMath":[36898],"UnsafeMath":[38695]},"nodeType":"SourceUnit","src":"45:12175:53","nodes":[{"id":36368,"nodeType":"PragmaDirective","src":"45:24:53","nodes":[],"literals":["solidity","^","0.8",".20"]},{"id":36370,"nodeType":"ImportDirective","src":"71:40:53","nodes":[],"absolutePath":"lib/v4-core/src/libraries/SafeCast.sol","file":"./SafeCast.sol","nameLocation":"-1:-1:-1","scope":36899,"sourceUnit":36367,"symbolAliases":[{"foreign":{"id":36369,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36366,"src":"79:8:53","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":36372,"nodeType":"ImportDirective","src":"113:40:53","nodes":[],"absolutePath":"lib/v4-core/src/libraries/FullMath.sol","file":"./FullMath.sol","nameLocation":"-1:-1:-1","scope":36899,"sourceUnit":32850,"symbolAliases":[{"foreign":{"id":36371,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32849,"src":"121:8:53","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":36374,"nodeType":"ImportDirective","src":"154:44:53","nodes":[],"absolutePath":"lib/v4-core/src/libraries/UnsafeMath.sol","file":"./UnsafeMath.sol","nameLocation":"-1:-1:-1","scope":36899,"sourceUnit":38696,"symbolAliases":[{"foreign":{"id":36373,"name":"UnsafeMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38695,"src":"162:10:53","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":36376,"nodeType":"ImportDirective","src":"199:48:53","nodes":[],"absolutePath":"lib/v4-core/src/libraries/FixedPoint96.sol","file":"./FixedPoint96.sol","nameLocation":"-1:-1:-1","scope":36899,"sourceUnit":32682,"symbolAliases":[{"foreign":{"id":36375,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32681,"src":"207:12:53","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":36898,"nodeType":"ContractDefinition","src":"416:11803:53","nodes":[{"id":36380,"nodeType":"UsingForDirective","src":"444:27:53","nodes":[],"global":false,"libraryName":{"id":36378,"name":"SafeCast","nameLocations":["450:8:53"],"nodeType":"IdentifierPath","referencedDeclaration":36366,"src":"450:8:53"},"typeName":{"id":36379,"name":"uint256","nodeType":"ElementaryTypeName","src":"463:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":36382,"nodeType":"ErrorDefinition","src":"477:32:53","nodes":[],"errorSelector":"4f2461b8","name":"InvalidPriceOrLiquidity","nameLocation":"483:23:53","parameters":{"id":36381,"nodeType":"ParameterList","parameters":[],"src":"506:2:53"}},{"id":36384,"nodeType":"ErrorDefinition","src":"514:21:53","nodes":[],"errorSelector":"00bfc921","name":"InvalidPrice","nameLocation":"520:12:53","parameters":{"id":36383,"nodeType":"ParameterList","parameters":[],"src":"532:2:53"}},{"id":36386,"nodeType":"ErrorDefinition","src":"540:27:53","nodes":[],"errorSelector":"4323a555","name":"NotEnoughLiquidity","nameLocation":"546:18:53","parameters":{"id":36385,"nodeType":"ParameterList","parameters":[],"src":"564:2:53"}},{"id":36388,"nodeType":"ErrorDefinition","src":"572:22:53","nodes":[],"errorSelector":"f5c787f1","name":"PriceOverflow","nameLocation":"578:13:53","parameters":{"id":36387,"nodeType":"ParameterList","parameters":[],"src":"591:2:53"}},{"id":36507,"nodeType":"FunctionDefinition","src":"1549:1571:53","nodes":[],"body":{"id":36506,"nodeType":"Block","src":"1719:1401:53","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36404,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36402,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36395,"src":"1845:6:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":36403,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1855:1:53","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1845:11:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36407,"nodeType":"IfStatement","src":"1841:32:53","trueBody":{"expression":{"id":36405,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36391,"src":"1865:8:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":36401,"id":36406,"nodeType":"Return","src":"1858:15:53"}},{"assignments":[36409],"declarations":[{"constant":false,"id":36409,"mutability":"mutable","name":"numerator1","nameLocation":"1891:10:53","nodeType":"VariableDeclaration","scope":36506,"src":"1883:18:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36408,"name":"uint256","nodeType":"ElementaryTypeName","src":"1883:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36417,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36416,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":36412,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36393,"src":"1912:9:53","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"id":36411,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1904:7:53","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":36410,"name":"uint256","nodeType":"ElementaryTypeName","src":"1904:7:53","typeDescriptions":{}}},"id":36413,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1904:18:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"expression":{"id":36414,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32681,"src":"1926:12:53","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$32681_$","typeString":"type(library FixedPoint96)"}},"id":36415,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1939:10:53","memberName":"RESOLUTION","nodeType":"MemberAccess","referencedDeclaration":32677,"src":"1926:23:53","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"1904:45:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1883:66:53"},{"condition":{"id":36418,"name":"add","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36397,"src":"1964:3:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":36504,"nodeType":"Block","src":"2590:524:53","statements":[{"id":36503,"nodeType":"UncheckedBlock","src":"2604:500:53","statements":[{"assignments":[36470],"declarations":[{"constant":false,"id":36470,"mutability":"mutable","name":"product","nameLocation":"2640:7:53","nodeType":"VariableDeclaration","scope":36503,"src":"2632:15:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36469,"name":"uint256","nodeType":"ElementaryTypeName","src":"2632:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36474,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36473,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36471,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36395,"src":"2650:6:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":36472,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36391,"src":"2659:8:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"2650:17:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2632:35:53"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":36483,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36479,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36477,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36475,"name":"product","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36470,"src":"2855:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":36476,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36395,"src":"2865:6:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2855:16:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":36478,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36391,"src":"2875:8:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"2855:28:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36482,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36480,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36409,"src":"2887:10:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":36481,"name":"product","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36470,"src":"2901:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2887:21:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"2855:53:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36487,"nodeType":"IfStatement","src":"2851:81:53","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":36484,"name":"PriceOverflow","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36388,"src":"2917:13:53","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":36485,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2917:15:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36486,"nodeType":"RevertStatement","src":"2910:22:53"}},{"assignments":[36489],"declarations":[{"constant":false,"id":36489,"mutability":"mutable","name":"denominator","nameLocation":"2958:11:53","nodeType":"VariableDeclaration","scope":36503,"src":"2950:19:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36488,"name":"uint256","nodeType":"ElementaryTypeName","src":"2950:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36493,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36492,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36490,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36409,"src":"2972:10:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":36491,"name":"product","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36470,"src":"2985:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2972:20:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2950:42:53"},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":36496,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36409,"src":"3043:10:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36497,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36391,"src":"3055:8:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":36498,"name":"denominator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36489,"src":"3065:11:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":36494,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32849,"src":"3017:8:53","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$32849_$","typeString":"type(library FullMath)"}},"id":36495,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3026:16:53","memberName":"mulDivRoundingUp","nodeType":"MemberAccess","referencedDeclaration":32848,"src":"3017:25:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":36499,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3017:60:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36500,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3078:9:53","memberName":"toUint160","nodeType":"MemberAccess","referencedDeclaration":36256,"src":"3017:70:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint160_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint160)"}},"id":36501,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3017:72:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":36401,"id":36502,"nodeType":"Return","src":"3010:79:53"}]}]},"id":36505,"nodeType":"IfStatement","src":"1960:1154:53","trueBody":{"id":36468,"nodeType":"Block","src":"1969:615:53","statements":[{"id":36453,"nodeType":"UncheckedBlock","src":"1983:440:53","statements":[{"assignments":[36420],"declarations":[{"constant":false,"id":36420,"mutability":"mutable","name":"product","nameLocation":"2019:7:53","nodeType":"VariableDeclaration","scope":36453,"src":"2011:15:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36419,"name":"uint256","nodeType":"ElementaryTypeName","src":"2011:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36424,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36423,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36421,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36395,"src":"2029:6:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":36422,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36391,"src":"2038:8:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"2029:17:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2011:35:53"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36429,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36427,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36425,"name":"product","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36420,"src":"2068:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":36426,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36395,"src":"2078:6:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2068:16:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":36428,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36391,"src":"2088:8:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"2068:28:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36452,"nodeType":"IfStatement","src":"2064:345:53","trueBody":{"id":36451,"nodeType":"Block","src":"2098:311:53","statements":[{"assignments":[36431],"declarations":[{"constant":false,"id":36431,"mutability":"mutable","name":"denominator","nameLocation":"2128:11:53","nodeType":"VariableDeclaration","scope":36451,"src":"2120:19:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36430,"name":"uint256","nodeType":"ElementaryTypeName","src":"2120:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36435,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36434,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36432,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36409,"src":"2142:10:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":36433,"name":"product","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36420,"src":"2155:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2142:20:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2120:42:53"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36438,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36436,"name":"denominator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36431,"src":"2188:11:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":36437,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36409,"src":"2203:10:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2188:25:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36450,"nodeType":"IfStatement","src":"2184:207:53","trueBody":{"id":36449,"nodeType":"Block","src":"2215:176:53","statements":[{"expression":{"arguments":[{"arguments":[{"id":36443,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36409,"src":"2333:10:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36444,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36391,"src":"2345:8:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":36445,"name":"denominator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36431,"src":"2355:11:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":36441,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32849,"src":"2307:8:53","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$32849_$","typeString":"type(library FullMath)"}},"id":36442,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2316:16:53","memberName":"mulDivRoundingUp","nodeType":"MemberAccess","referencedDeclaration":32848,"src":"2307:25:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":36446,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2307:60:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":36440,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2299:7:53","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":36439,"name":"uint160","nodeType":"ElementaryTypeName","src":"2299:7:53","typeDescriptions":{}}},"id":36447,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2299:69:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":36401,"id":36448,"nodeType":"Return","src":"2292:76:53"}]}}]}}]},{"expression":{"arguments":[{"arguments":[{"id":36458,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36409,"src":"2527:10:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36464,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36461,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36459,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36409,"src":"2540:10:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":36460,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36391,"src":"2553:8:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"2540:21:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":36462,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2539:23:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":36463,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36395,"src":"2565:6:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2539:32:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":36456,"name":"UnsafeMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38695,"src":"2502:10:53","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_UnsafeMath_$38695_$","typeString":"type(library UnsafeMath)"}},"id":36457,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2513:13:53","memberName":"divRoundingUp","nodeType":"MemberAccess","referencedDeclaration":38694,"src":"2502:24:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":36465,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2502:70:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":36455,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2494:7:53","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":36454,"name":"uint160","nodeType":"ElementaryTypeName","src":"2494:7:53","typeDescriptions":{}}},"id":36466,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2494:79:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":36401,"id":36467,"nodeType":"Return","src":"2487:86:53"}]}}]},"documentation":{"id":36389,"nodeType":"StructuredDocumentation","src":"600:944:53","text":"@notice Gets the next sqrt price given a delta of currency0\n @dev Always rounds up, because in the exact output case (increasing price) we need to move the price at least\n far enough to get the desired output amount, and in the exact input case (decreasing price) we need to move the\n price less in order to not send too much output.\n The most precise formula for this is liquidity * sqrtPX96 / (liquidity +- amount * sqrtPX96),\n if this is impossible because of overflow, we calculate liquidity / (liquidity / sqrtPX96 +- amount).\n @param sqrtPX96 The starting price, i.e. before accounting for the currency0 delta\n @param liquidity The amount of usable liquidity\n @param amount How much of currency0 to add or remove from virtual reserves\n @param add Whether to add or remove the amount of currency0\n @return The price after adding or removing amount, depending on add"},"implemented":true,"kind":"function","modifiers":[],"name":"getNextSqrtPriceFromAmount0RoundingUp","nameLocation":"1558:37:53","parameters":{"id":36398,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36391,"mutability":"mutable","name":"sqrtPX96","nameLocation":"1604:8:53","nodeType":"VariableDeclaration","scope":36507,"src":"1596:16:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":36390,"name":"uint160","nodeType":"ElementaryTypeName","src":"1596:7:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":36393,"mutability":"mutable","name":"liquidity","nameLocation":"1622:9:53","nodeType":"VariableDeclaration","scope":36507,"src":"1614:17:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":36392,"name":"uint128","nodeType":"ElementaryTypeName","src":"1614:7:53","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":36395,"mutability":"mutable","name":"amount","nameLocation":"1641:6:53","nodeType":"VariableDeclaration","scope":36507,"src":"1633:14:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36394,"name":"uint256","nodeType":"ElementaryTypeName","src":"1633:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36397,"mutability":"mutable","name":"add","nameLocation":"1654:3:53","nodeType":"VariableDeclaration","scope":36507,"src":"1649:8:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":36396,"name":"bool","nodeType":"ElementaryTypeName","src":"1649:4:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"1595:63:53"},"returnParameters":{"id":36401,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36400,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":36507,"src":"1706:7:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":36399,"name":"uint160","nodeType":"ElementaryTypeName","src":"1706:7:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"}],"src":"1705:9:53"},"scope":36898,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":36604,"nodeType":"FunctionDefinition","src":"3958:1145:53","nodes":[],"body":{"id":36603,"nodeType":"Block","src":"4130:973:53","nodes":[],"statements":[{"condition":{"id":36521,"name":"add","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36516,"src":"4298:3:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":36601,"nodeType":"Block","src":"4621:476:53","statements":[{"assignments":[36560],"declarations":[{"constant":false,"id":36560,"mutability":"mutable","name":"quotient","nameLocation":"4643:8:53","nodeType":"VariableDeclaration","scope":36601,"src":"4635:16:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36559,"name":"uint256","nodeType":"ElementaryTypeName","src":"4635:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36585,"initialValue":{"components":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36567,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36561,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36514,"src":"4672:6:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"expression":{"arguments":[{"id":36564,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4687:7:53","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":36563,"name":"uint160","nodeType":"ElementaryTypeName","src":"4687:7:53","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"}],"id":36562,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"4682:4:53","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":36565,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4682:13:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint160","typeString":"type(uint160)"}},"id":36566,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4696:3:53","memberName":"max","nodeType":"MemberAccess","src":"4682:17:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"4672:27:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[{"id":36578,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36514,"src":"4841:6:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":36579,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32681,"src":"4849:12:53","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$32681_$","typeString":"type(library FixedPoint96)"}},"id":36580,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4862:3:53","memberName":"Q96","nodeType":"MemberAccess","referencedDeclaration":32680,"src":"4849:16:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36581,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36512,"src":"4867:9:53","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"id":36576,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32849,"src":"4815:8:53","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$32849_$","typeString":"type(library FullMath)"}},"id":36577,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4824:16:53","memberName":"mulDivRoundingUp","nodeType":"MemberAccess","referencedDeclaration":32848,"src":"4815:25:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":36582,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4815:62:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36583,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"4672:205:53","trueExpression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36573,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36570,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36514,"src":"4747:6:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"expression":{"id":36571,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32681,"src":"4757:12:53","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$32681_$","typeString":"type(library FixedPoint96)"}},"id":36572,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4770:10:53","memberName":"RESOLUTION","nodeType":"MemberAccess","referencedDeclaration":32677,"src":"4757:23:53","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"4747:33:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36574,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36512,"src":"4782:9:53","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"id":36568,"name":"UnsafeMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38695,"src":"4722:10:53","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_UnsafeMath_$38695_$","typeString":"type(library UnsafeMath)"}},"id":36569,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4733:13:53","memberName":"divRoundingUp","nodeType":"MemberAccess","referencedDeclaration":38694,"src":"4722:24:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":36575,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4722:70:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":36584,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4654:237:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4635:256:53"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36588,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36586,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36510,"src":"4910:8:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":36587,"name":"quotient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36560,"src":"4922:8:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4910:20:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36592,"nodeType":"IfStatement","src":"4906:53:53","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":36589,"name":"NotEnoughLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36386,"src":"4939:18:53","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":36590,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4939:20:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36591,"nodeType":"RevertStatement","src":"4932:27:53"}},{"id":36600,"nodeType":"UncheckedBlock","src":"5009:78:53","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36597,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36595,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36510,"src":"5052:8:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":36596,"name":"quotient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36560,"src":"5063:8:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5052:19:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":36594,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5044:7:53","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":36593,"name":"uint160","nodeType":"ElementaryTypeName","src":"5044:7:53","typeDescriptions":{}}},"id":36598,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5044:28:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":36520,"id":36599,"nodeType":"Return","src":"5037:35:53"}]}]},"id":36602,"nodeType":"IfStatement","src":"4294:803:53","trueBody":{"id":36558,"nodeType":"Block","src":"4303:312:53","statements":[{"assignments":[36523],"declarations":[{"constant":false,"id":36523,"mutability":"mutable","name":"quotient","nameLocation":"4325:8:53","nodeType":"VariableDeclaration","scope":36558,"src":"4317:16:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36522,"name":"uint256","nodeType":"ElementaryTypeName","src":"4317:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36547,"initialValue":{"components":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36530,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36524,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36514,"src":"4354:6:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"expression":{"arguments":[{"id":36527,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4369:7:53","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":36526,"name":"uint160","nodeType":"ElementaryTypeName","src":"4369:7:53","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"}],"id":36525,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"4364:4:53","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":36528,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4364:13:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint160","typeString":"type(uint160)"}},"id":36529,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4378:3:53","memberName":"max","nodeType":"MemberAccess","src":"4364:17:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"4354:27:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[{"id":36540,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36514,"src":"4490:6:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":36541,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32681,"src":"4498:12:53","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$32681_$","typeString":"type(library FixedPoint96)"}},"id":36542,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4511:3:53","memberName":"Q96","nodeType":"MemberAccess","referencedDeclaration":32680,"src":"4498:16:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36543,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36512,"src":"4516:9:53","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"id":36538,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32849,"src":"4474:8:53","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$32849_$","typeString":"type(library FullMath)"}},"id":36539,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4483:6:53","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":32810,"src":"4474:15:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":36544,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4474:52:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36545,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"4354:172:53","trueExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36537,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36534,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36531,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36514,"src":"4405:6:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"expression":{"id":36532,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32681,"src":"4415:12:53","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$32681_$","typeString":"type(library FixedPoint96)"}},"id":36533,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4428:10:53","memberName":"RESOLUTION","nodeType":"MemberAccess","referencedDeclaration":32677,"src":"4415:23:53","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"4405:33:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":36535,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4404:35:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":36536,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36512,"src":"4442:9:53","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"4404:47:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":36546,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4336:204:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4317:223:53"},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36553,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":36550,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36510,"src":"4571:8:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"}],"id":36549,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4563:7:53","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":36548,"name":"uint256","nodeType":"ElementaryTypeName","src":"4563:7:53","typeDescriptions":{}}},"id":36551,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4563:17:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":36552,"name":"quotient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36523,"src":"4583:8:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4563:28:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":36554,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4562:30:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36555,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4593:9:53","memberName":"toUint160","nodeType":"MemberAccess","referencedDeclaration":36256,"src":"4562:40:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint160_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint160)"}},"id":36556,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4562:42:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":36520,"id":36557,"nodeType":"Return","src":"4555:49:53"}]}}]},"documentation":{"id":36508,"nodeType":"StructuredDocumentation","src":"3126:827:53","text":"@notice Gets the next sqrt price given a delta of currency1\n @dev Always rounds down, because in the exact output case (decreasing price) we need to move the price at least\n far enough to get the desired output amount, and in the exact input case (increasing price) we need to move the\n price less in order to not send too much output.\n The formula we compute is within <1 wei of the lossless version: sqrtPX96 +- amount / liquidity\n @param sqrtPX96 The starting price, i.e., before accounting for the currency1 delta\n @param liquidity The amount of usable liquidity\n @param amount How much of currency1 to add, or remove, from virtual reserves\n @param add Whether to add, or remove, the amount of currency1\n @return The price after adding or removing `amount`"},"implemented":true,"kind":"function","modifiers":[],"name":"getNextSqrtPriceFromAmount1RoundingDown","nameLocation":"3967:39:53","parameters":{"id":36517,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36510,"mutability":"mutable","name":"sqrtPX96","nameLocation":"4015:8:53","nodeType":"VariableDeclaration","scope":36604,"src":"4007:16:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":36509,"name":"uint160","nodeType":"ElementaryTypeName","src":"4007:7:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":36512,"mutability":"mutable","name":"liquidity","nameLocation":"4033:9:53","nodeType":"VariableDeclaration","scope":36604,"src":"4025:17:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":36511,"name":"uint128","nodeType":"ElementaryTypeName","src":"4025:7:53","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":36514,"mutability":"mutable","name":"amount","nameLocation":"4052:6:53","nodeType":"VariableDeclaration","scope":36604,"src":"4044:14:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36513,"name":"uint256","nodeType":"ElementaryTypeName","src":"4044:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36516,"mutability":"mutable","name":"add","nameLocation":"4065:3:53","nodeType":"VariableDeclaration","scope":36604,"src":"4060:8:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":36515,"name":"bool","nodeType":"ElementaryTypeName","src":"4060:4:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"4006:63:53"},"returnParameters":{"id":36520,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36519,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":36604,"src":"4117:7:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":36518,"name":"uint160","nodeType":"ElementaryTypeName","src":"4117:7:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"}],"src":"4116:9:53"},"scope":36898,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":36645,"nodeType":"FunctionDefinition","src":"5676:536:53","nodes":[],"body":{"id":36644,"nodeType":"Block","src":"5852:360:53","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":36624,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint160","typeString":"uint160"},"id":36620,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36618,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36607,"src":"5866:8:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":36619,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5878:1:53","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5866:13:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":36623,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36621,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36609,"src":"5883:9:53","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":36622,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5896:1:53","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5883:14:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5866:31:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36628,"nodeType":"IfStatement","src":"5862:69:53","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":36625,"name":"InvalidPriceOrLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36382,"src":"5906:23:53","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":36626,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5906:25:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36627,"nodeType":"RevertStatement","src":"5899:32:53"}},{"expression":{"condition":{"id":36629,"name":"zeroForOne","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36613,"src":"6015:10:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[{"id":36637,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36607,"src":"6169:8:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":36638,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36609,"src":"6179:9:53","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"id":36639,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36611,"src":"6190:8:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"74727565","id":36640,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"6200:4:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":36636,"name":"getNextSqrtPriceFromAmount1RoundingDown","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36604,"src":"6129:39:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint128_$_t_uint256_$_t_bool_$returns$_t_uint160_$","typeString":"function (uint160,uint128,uint256,bool) pure returns (uint160)"}},"id":36641,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6129:76:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"id":36642,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"6015:190:53","trueExpression":{"arguments":[{"id":36631,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36607,"src":"6078:8:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":36632,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36609,"src":"6088:9:53","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"id":36633,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36611,"src":"6099:8:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"74727565","id":36634,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"6109:4:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":36630,"name":"getNextSqrtPriceFromAmount0RoundingUp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36507,"src":"6040:37:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint128_$_t_uint256_$_t_bool_$returns$_t_uint160_$","typeString":"function (uint160,uint128,uint256,bool) pure returns (uint160)"}},"id":36635,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6040:74:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":36617,"id":36643,"nodeType":"Return","src":"6008:197:53"}]},"documentation":{"id":36605,"nodeType":"StructuredDocumentation","src":"5109:562:53","text":"@notice Gets the next sqrt price given an input amount of currency0 or currency1\n @dev Throws if price or liquidity are 0, or if the next price is out of bounds\n @param sqrtPX96 The starting price, i.e., before accounting for the input amount\n @param liquidity The amount of usable liquidity\n @param amountIn How much of currency0, or currency1, is being swapped in\n @param zeroForOne Whether the amount in is currency0 or currency1\n @return sqrtQX96 The price after adding the input amount to currency0 or currency1"},"implemented":true,"kind":"function","modifiers":[],"name":"getNextSqrtPriceFromInput","nameLocation":"5685:25:53","parameters":{"id":36614,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36607,"mutability":"mutable","name":"sqrtPX96","nameLocation":"5719:8:53","nodeType":"VariableDeclaration","scope":36645,"src":"5711:16:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":36606,"name":"uint160","nodeType":"ElementaryTypeName","src":"5711:7:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":36609,"mutability":"mutable","name":"liquidity","nameLocation":"5737:9:53","nodeType":"VariableDeclaration","scope":36645,"src":"5729:17:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":36608,"name":"uint128","nodeType":"ElementaryTypeName","src":"5729:7:53","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":36611,"mutability":"mutable","name":"amountIn","nameLocation":"5756:8:53","nodeType":"VariableDeclaration","scope":36645,"src":"5748:16:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36610,"name":"uint256","nodeType":"ElementaryTypeName","src":"5748:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36613,"mutability":"mutable","name":"zeroForOne","nameLocation":"5771:10:53","nodeType":"VariableDeclaration","scope":36645,"src":"5766:15:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":36612,"name":"bool","nodeType":"ElementaryTypeName","src":"5766:4:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"5710:72:53"},"returnParameters":{"id":36617,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36616,"mutability":"mutable","name":"sqrtQX96","nameLocation":"5838:8:53","nodeType":"VariableDeclaration","scope":36645,"src":"5830:16:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":36615,"name":"uint160","nodeType":"ElementaryTypeName","src":"5830:7:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"}],"src":"5829:18:53"},"scope":36898,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":36686,"nodeType":"FunctionDefinition","src":"6782:536:53","nodes":[],"body":{"id":36685,"nodeType":"Block","src":"6960:358:53","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":36665,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint160","typeString":"uint160"},"id":36661,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36659,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36648,"src":"6974:8:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":36660,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6986:1:53","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6974:13:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":36664,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36662,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36650,"src":"6991:9:53","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":36663,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7004:1:53","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6991:14:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"6974:31:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36669,"nodeType":"IfStatement","src":"6970:69:53","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":36666,"name":"InvalidPriceOrLiquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36382,"src":"7014:23:53","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":36667,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7014:25:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36668,"nodeType":"RevertStatement","src":"7007:32:53"}},{"expression":{"condition":{"id":36670,"name":"zeroForOne","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36654,"src":"7117:10:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[{"id":36678,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36648,"src":"7273:8:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":36679,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36650,"src":"7283:9:53","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"id":36680,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36652,"src":"7294:9:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"66616c7365","id":36681,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"7305:5:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":36677,"name":"getNextSqrtPriceFromAmount0RoundingUp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36507,"src":"7235:37:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint128_$_t_uint256_$_t_bool_$returns$_t_uint160_$","typeString":"function (uint160,uint128,uint256,bool) pure returns (uint160)"}},"id":36682,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7235:76:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"id":36683,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"7117:194:53","trueExpression":{"arguments":[{"id":36672,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36648,"src":"7182:8:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":36673,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36650,"src":"7192:9:53","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"id":36674,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36652,"src":"7203:9:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"66616c7365","id":36675,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"7214:5:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":36671,"name":"getNextSqrtPriceFromAmount1RoundingDown","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36604,"src":"7142:39:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint128_$_t_uint256_$_t_bool_$returns$_t_uint160_$","typeString":"function (uint160,uint128,uint256,bool) pure returns (uint160)"}},"id":36676,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7142:78:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":36658,"id":36684,"nodeType":"Return","src":"7110:201:53"}]},"documentation":{"id":36646,"nodeType":"StructuredDocumentation","src":"6218:559:53","text":"@notice Gets the next sqrt price given an output amount of currency0 or currency1\n @dev Throws if price or liquidity are 0 or the next price is out of bounds\n @param sqrtPX96 The starting price before accounting for the output amount\n @param liquidity The amount of usable liquidity\n @param amountOut How much of currency0, or currency1, is being swapped out\n @param zeroForOne Whether the amount out is currency1 or currency0\n @return sqrtQX96 The price after removing the output amount of currency0 or currency1"},"implemented":true,"kind":"function","modifiers":[],"name":"getNextSqrtPriceFromOutput","nameLocation":"6791:26:53","parameters":{"id":36655,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36648,"mutability":"mutable","name":"sqrtPX96","nameLocation":"6826:8:53","nodeType":"VariableDeclaration","scope":36686,"src":"6818:16:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":36647,"name":"uint160","nodeType":"ElementaryTypeName","src":"6818:7:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":36650,"mutability":"mutable","name":"liquidity","nameLocation":"6844:9:53","nodeType":"VariableDeclaration","scope":36686,"src":"6836:17:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":36649,"name":"uint128","nodeType":"ElementaryTypeName","src":"6836:7:53","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":36652,"mutability":"mutable","name":"amountOut","nameLocation":"6863:9:53","nodeType":"VariableDeclaration","scope":36686,"src":"6855:17:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36651,"name":"uint256","nodeType":"ElementaryTypeName","src":"6855:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":36654,"mutability":"mutable","name":"zeroForOne","nameLocation":"6879:10:53","nodeType":"VariableDeclaration","scope":36686,"src":"6874:15:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":36653,"name":"bool","nodeType":"ElementaryTypeName","src":"6874:4:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"6817:73:53"},"returnParameters":{"id":36658,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36657,"mutability":"mutable","name":"sqrtQX96","nameLocation":"6946:8:53","nodeType":"VariableDeclaration","scope":36686,"src":"6938:16:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":36656,"name":"uint160","nodeType":"ElementaryTypeName","src":"6938:7:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"}],"src":"6937:18:53"},"scope":36898,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":36758,"nodeType":"FunctionDefinition","src":"7869:768:53","nodes":[],"body":{"id":36757,"nodeType":"Block","src":"8041:596:53","nodes":[],"statements":[{"id":36756,"nodeType":"UncheckedBlock","src":"8051:580:53","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint160","typeString":"uint160"},"id":36702,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36700,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36689,"src":"8079:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":36701,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36691,"src":"8095:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"8079:29:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36711,"nodeType":"IfStatement","src":"8075:98:53","trueBody":{"expression":{"id":36709,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":36703,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36689,"src":"8111:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":36704,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36691,"src":"8126:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"id":36705,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"8110:30:53","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint160_$_t_uint160_$","typeString":"tuple(uint160,uint160)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"components":[{"id":36706,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36691,"src":"8144:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":36707,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36689,"src":"8159:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"id":36708,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"8143:30:53","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint160_$_t_uint160_$","typeString":"tuple(uint160,uint160)"}},"src":"8110:63:53","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36710,"nodeType":"ExpressionStatement","src":"8110:63:53"}},{"assignments":[36713],"declarations":[{"constant":false,"id":36713,"mutability":"mutable","name":"numerator1","nameLocation":"8196:10:53","nodeType":"VariableDeclaration","scope":36756,"src":"8188:18:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36712,"name":"uint256","nodeType":"ElementaryTypeName","src":"8188:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36721,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36720,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":36716,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36693,"src":"8217:9:53","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"id":36715,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8209:7:53","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":36714,"name":"uint256","nodeType":"ElementaryTypeName","src":"8209:7:53","typeDescriptions":{}}},"id":36717,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8209:18:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"expression":{"id":36718,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32681,"src":"8231:12:53","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$32681_$","typeString":"type(library FixedPoint96)"}},"id":36719,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"8244:10:53","memberName":"RESOLUTION","nodeType":"MemberAccess","referencedDeclaration":32677,"src":"8231:23:53","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"8209:45:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8188:66:53"},{"assignments":[36723],"declarations":[{"constant":false,"id":36723,"mutability":"mutable","name":"numerator2","nameLocation":"8276:10:53","nodeType":"VariableDeclaration","scope":36756,"src":"8268:18:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36722,"name":"uint256","nodeType":"ElementaryTypeName","src":"8268:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36727,"initialValue":{"commonType":{"typeIdentifier":"t_uint160","typeString":"uint160"},"id":36726,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36724,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36691,"src":"8289:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":36725,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36689,"src":"8305:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"8289:29:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"VariableDeclarationStatement","src":"8268:50:53"},{"condition":{"commonType":{"typeIdentifier":"t_uint160","typeString":"uint160"},"id":36730,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36728,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36689,"src":"8337:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":36729,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8354:1:53","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8337:18:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":36734,"nodeType":"IfStatement","src":"8333:45:53","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":36731,"name":"InvalidPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36384,"src":"8364:12:53","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":36732,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8364:14:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":36733,"nodeType":"RevertStatement","src":"8357:21:53"}},{"expression":{"condition":{"id":36735,"name":"roundUp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36695,"src":"8400:7:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":36753,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":36748,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36713,"src":"8566:10:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36749,"name":"numerator2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36723,"src":"8578:10:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36750,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36691,"src":"8590:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint160","typeString":"uint160"}],"expression":{"id":36746,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32849,"src":"8550:8:53","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$32849_$","typeString":"type(library FullMath)"}},"id":36747,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8559:6:53","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":32810,"src":"8550:15:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":36751,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8550:54:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":36752,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36689,"src":"8607:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"8550:70:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36754,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"8400:220:53","trueExpression":{"arguments":[{"arguments":[{"id":36740,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36713,"src":"8477:10:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36741,"name":"numerator2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36723,"src":"8489:10:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36742,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36691,"src":"8501:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint160","typeString":"uint160"}],"expression":{"id":36738,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32849,"src":"8451:8:53","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$32849_$","typeString":"type(library FullMath)"}},"id":36739,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8460:16:53","memberName":"mulDivRoundingUp","nodeType":"MemberAccess","referencedDeclaration":32848,"src":"8451:25:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":36743,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8451:64:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36744,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36689,"src":"8517:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint160","typeString":"uint160"}],"expression":{"id":36736,"name":"UnsafeMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":38695,"src":"8426:10:53","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_UnsafeMath_$38695_$","typeString":"type(library UnsafeMath)"}},"id":36737,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8437:13:53","memberName":"divRoundingUp","nodeType":"MemberAccess","referencedDeclaration":38694,"src":"8426:24:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":36745,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8426:105:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":36699,"id":36755,"nodeType":"Return","src":"8393:227:53"}]}]},"documentation":{"id":36687,"nodeType":"StructuredDocumentation","src":"7324:540:53","text":"@notice Gets the amount0 delta between two prices\n @dev Calculates liquidity / sqrt(lower) - liquidity / sqrt(upper),\n i.e. liquidity * (sqrt(upper) - sqrt(lower)) / (sqrt(upper) * sqrt(lower))\n @param sqrtPriceAX96 A sqrt price\n @param sqrtPriceBX96 Another sqrt price\n @param liquidity The amount of usable liquidity\n @param roundUp Whether to round the amount up or down\n @return amount0 Amount of currency0 required to cover a position of size liquidity between the two passed prices"},"implemented":true,"kind":"function","modifiers":[],"name":"getAmount0Delta","nameLocation":"7878:15:53","parameters":{"id":36696,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36689,"mutability":"mutable","name":"sqrtPriceAX96","nameLocation":"7902:13:53","nodeType":"VariableDeclaration","scope":36758,"src":"7894:21:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":36688,"name":"uint160","nodeType":"ElementaryTypeName","src":"7894:7:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":36691,"mutability":"mutable","name":"sqrtPriceBX96","nameLocation":"7925:13:53","nodeType":"VariableDeclaration","scope":36758,"src":"7917:21:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":36690,"name":"uint160","nodeType":"ElementaryTypeName","src":"7917:7:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":36693,"mutability":"mutable","name":"liquidity","nameLocation":"7948:9:53","nodeType":"VariableDeclaration","scope":36758,"src":"7940:17:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":36692,"name":"uint128","nodeType":"ElementaryTypeName","src":"7940:7:53","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":36695,"mutability":"mutable","name":"roundUp","nameLocation":"7964:7:53","nodeType":"VariableDeclaration","scope":36758,"src":"7959:12:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":36694,"name":"bool","nodeType":"ElementaryTypeName","src":"7959:4:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"7893:79:53"},"returnParameters":{"id":36699,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36698,"mutability":"mutable","name":"amount0","nameLocation":"8028:7:53","nodeType":"VariableDeclaration","scope":36758,"src":"8020:15:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36697,"name":"uint256","nodeType":"ElementaryTypeName","src":"8020:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"8019:17:53"},"scope":36898,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":36770,"nodeType":"FunctionDefinition","src":"8699:491:53","nodes":[],"body":{"id":36769,"nodeType":"Block","src":"8774:416:53","nodes":[],"statements":[{"AST":{"nativeSrc":"8793:391:53","nodeType":"YulBlock","src":"8793:391:53","statements":[{"nativeSrc":"8807:21:53","nodeType":"YulVariableDeclaration","src":"8807:21:53","value":{"arguments":[{"name":"a","nativeSrc":"8823:1:53","nodeType":"YulIdentifier","src":"8823:1:53"},{"name":"b","nativeSrc":"8826:1:53","nodeType":"YulIdentifier","src":"8826:1:53"}],"functionName":{"name":"sub","nativeSrc":"8819:3:53","nodeType":"YulIdentifier","src":"8819:3:53"},"nativeSrc":"8819:9:53","nodeType":"YulFunctionCall","src":"8819:9:53"},"variables":[{"name":"diff","nativeSrc":"8811:4:53","nodeType":"YulTypedName","src":"8811:4:53","type":""}]},{"nativeSrc":"8892:26:53","nodeType":"YulVariableDeclaration","src":"8892:26:53","value":{"arguments":[{"kind":"number","nativeSrc":"8908:3:53","nodeType":"YulLiteral","src":"8908:3:53","type":"","value":"255"},{"name":"diff","nativeSrc":"8913:4:53","nodeType":"YulIdentifier","src":"8913:4:53"}],"functionName":{"name":"sar","nativeSrc":"8904:3:53","nodeType":"YulIdentifier","src":"8904:3:53"},"nativeSrc":"8904:14:53","nodeType":"YulFunctionCall","src":"8904:14:53"},"variables":[{"name":"mask","nativeSrc":"8896:4:53","nodeType":"YulTypedName","src":"8896:4:53","type":""}]},{"nativeSrc":"9141:33:53","nodeType":"YulAssignment","src":"9141:33:53","value":{"arguments":[{"name":"mask","nativeSrc":"9152:4:53","nodeType":"YulIdentifier","src":"9152:4:53"},{"arguments":[{"name":"mask","nativeSrc":"9162:4:53","nodeType":"YulIdentifier","src":"9162:4:53"},{"name":"diff","nativeSrc":"9168:4:53","nodeType":"YulIdentifier","src":"9168:4:53"}],"functionName":{"name":"add","nativeSrc":"9158:3:53","nodeType":"YulIdentifier","src":"9158:3:53"},"nativeSrc":"9158:15:53","nodeType":"YulFunctionCall","src":"9158:15:53"}],"functionName":{"name":"xor","nativeSrc":"9148:3:53","nodeType":"YulIdentifier","src":"9148:3:53"},"nativeSrc":"9148:26:53","nodeType":"YulFunctionCall","src":"9148:26:53"},"variableNames":[{"name":"res","nativeSrc":"9141:3:53","nodeType":"YulIdentifier","src":"9141:3:53"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":36761,"isOffset":false,"isSlot":false,"src":"8823:1:53","valueSize":1},{"declaration":36763,"isOffset":false,"isSlot":false,"src":"8826:1:53","valueSize":1},{"declaration":36766,"isOffset":false,"isSlot":false,"src":"9141:3:53","valueSize":1}],"id":36768,"nodeType":"InlineAssembly","src":"8784:400:53"}]},"documentation":{"id":36759,"nodeType":"StructuredDocumentation","src":"8643:51:53","text":"@notice Equivalent to: `a >= b ? a - b : b - a`"},"implemented":true,"kind":"function","modifiers":[],"name":"absDiff","nameLocation":"8708:7:53","parameters":{"id":36764,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36761,"mutability":"mutable","name":"a","nameLocation":"8724:1:53","nodeType":"VariableDeclaration","scope":36770,"src":"8716:9:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":36760,"name":"uint160","nodeType":"ElementaryTypeName","src":"8716:7:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":36763,"mutability":"mutable","name":"b","nameLocation":"8735:1:53","nodeType":"VariableDeclaration","scope":36770,"src":"8727:9:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":36762,"name":"uint160","nodeType":"ElementaryTypeName","src":"8727:7:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"}],"src":"8715:22:53"},"returnParameters":{"id":36767,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36766,"mutability":"mutable","name":"res","nameLocation":"8769:3:53","nodeType":"VariableDeclaration","scope":36770,"src":"8761:11:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36765,"name":"uint256","nodeType":"ElementaryTypeName","src":"8761:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"8760:13:53"},"scope":36898,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":36811,"nodeType":"FunctionDefinition","src":"9648:1005:53","nodes":[],"body":{"id":36810,"nodeType":"Block","src":"9820:833:53","nodes":[],"statements":[{"assignments":[36785],"declarations":[{"constant":false,"id":36785,"mutability":"mutable","name":"numerator","nameLocation":"9838:9:53","nodeType":"VariableDeclaration","scope":36810,"src":"9830:17:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36784,"name":"uint256","nodeType":"ElementaryTypeName","src":"9830:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36790,"initialValue":{"arguments":[{"id":36787,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36773,"src":"9858:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":36788,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36775,"src":"9873:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint160","typeString":"uint160"}],"id":36786,"name":"absDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36770,"src":"9850:7:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint160_$returns$_t_uint256_$","typeString":"function (uint160,uint160) pure returns (uint256)"}},"id":36789,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9850:37:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9830:57:53"},{"assignments":[36792],"declarations":[{"constant":false,"id":36792,"mutability":"mutable","name":"denominator","nameLocation":"9905:11:53","nodeType":"VariableDeclaration","scope":36810,"src":"9897:19:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36791,"name":"uint256","nodeType":"ElementaryTypeName","src":"9897:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36795,"initialValue":{"expression":{"id":36793,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32681,"src":"9919:12:53","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$32681_$","typeString":"type(library FixedPoint96)"}},"id":36794,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"9932:3:53","memberName":"Q96","nodeType":"MemberAccess","referencedDeclaration":32680,"src":"9919:16:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9897:38:53"},{"assignments":[36797],"declarations":[{"constant":false,"id":36797,"mutability":"mutable","name":"_liquidity","nameLocation":"9953:10:53","nodeType":"VariableDeclaration","scope":36810,"src":"9945:18:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36796,"name":"uint256","nodeType":"ElementaryTypeName","src":"9945:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":36798,"nodeType":"VariableDeclarationStatement","src":"9945:18:53"},{"AST":{"nativeSrc":"9982:87:53","nodeType":"YulBlock","src":"9982:87:53","statements":[{"nativeSrc":"10036:23:53","nodeType":"YulAssignment","src":"10036:23:53","value":{"name":"liquidity","nativeSrc":"10050:9:53","nodeType":"YulIdentifier","src":"10050:9:53"},"variableNames":[{"name":"_liquidity","nativeSrc":"10036:10:53","nodeType":"YulIdentifier","src":"10036:10:53"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":36797,"isOffset":false,"isSlot":false,"src":"10036:10:53","valueSize":1},{"declaration":36777,"isOffset":false,"isSlot":false,"src":"10050:9:53","valueSize":1}],"id":36799,"nodeType":"InlineAssembly","src":"9973:96:53"},{"documentation":" Equivalent to:\n   amount1 = roundUp\n       ? FullMath.mulDivRoundingUp(liquidity, sqrtPriceBX96 - sqrtPriceAX96, FixedPoint96.Q96)\n       : FullMath.mulDiv(liquidity, sqrtPriceBX96 - sqrtPriceAX96, FixedPoint96.Q96);\n Cannot overflow because `type(uint128).max * type(uint160).max >> 96 < (1 << 192)`.","expression":{"id":36807,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":36800,"name":"amount1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36782,"src":"10455:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":36803,"name":"_liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36797,"src":"10481:10:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36804,"name":"numerator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36785,"src":"10493:9:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":36805,"name":"denominator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36792,"src":"10504:11:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":36801,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32849,"src":"10465:8:53","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$32849_$","typeString":"type(library FullMath)"}},"id":36802,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10474:6:53","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":32810,"src":"10465:15:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":36806,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10465:51:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10455:61:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36808,"nodeType":"ExpressionStatement","src":"10455:61:53"},{"AST":{"nativeSrc":"10535:112:53","nodeType":"YulBlock","src":"10535:112:53","statements":[{"nativeSrc":"10549:88:53","nodeType":"YulAssignment","src":"10549:88:53","value":{"arguments":[{"name":"amount1","nativeSrc":"10564:7:53","nodeType":"YulIdentifier","src":"10564:7:53"},{"arguments":[{"arguments":[{"arguments":[{"name":"_liquidity","nativeSrc":"10587:10:53","nodeType":"YulIdentifier","src":"10587:10:53"},{"name":"numerator","nativeSrc":"10599:9:53","nodeType":"YulIdentifier","src":"10599:9:53"},{"name":"denominator","nativeSrc":"10610:11:53","nodeType":"YulIdentifier","src":"10610:11:53"}],"functionName":{"name":"mulmod","nativeSrc":"10580:6:53","nodeType":"YulIdentifier","src":"10580:6:53"},"nativeSrc":"10580:42:53","nodeType":"YulFunctionCall","src":"10580:42:53"},{"kind":"number","nativeSrc":"10624:1:53","nodeType":"YulLiteral","src":"10624:1:53","type":"","value":"0"}],"functionName":{"name":"gt","nativeSrc":"10577:2:53","nodeType":"YulIdentifier","src":"10577:2:53"},"nativeSrc":"10577:49:53","nodeType":"YulFunctionCall","src":"10577:49:53"},{"name":"roundUp","nativeSrc":"10628:7:53","nodeType":"YulIdentifier","src":"10628:7:53"}],"functionName":{"name":"and","nativeSrc":"10573:3:53","nodeType":"YulIdentifier","src":"10573:3:53"},"nativeSrc":"10573:63:53","nodeType":"YulFunctionCall","src":"10573:63:53"}],"functionName":{"name":"add","nativeSrc":"10560:3:53","nodeType":"YulIdentifier","src":"10560:3:53"},"nativeSrc":"10560:77:53","nodeType":"YulFunctionCall","src":"10560:77:53"},"variableNames":[{"name":"amount1","nativeSrc":"10549:7:53","nodeType":"YulIdentifier","src":"10549:7:53"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":36797,"isOffset":false,"isSlot":false,"src":"10587:10:53","valueSize":1},{"declaration":36782,"isOffset":false,"isSlot":false,"src":"10549:7:53","valueSize":1},{"declaration":36782,"isOffset":false,"isSlot":false,"src":"10564:7:53","valueSize":1},{"declaration":36792,"isOffset":false,"isSlot":false,"src":"10610:11:53","valueSize":1},{"declaration":36785,"isOffset":false,"isSlot":false,"src":"10599:9:53","valueSize":1},{"declaration":36779,"isOffset":false,"isSlot":false,"src":"10628:7:53","valueSize":1}],"id":36809,"nodeType":"InlineAssembly","src":"10526:121:53"}]},"documentation":{"id":36771,"nodeType":"StructuredDocumentation","src":"9196:447:53","text":"@notice Gets the amount1 delta between two prices\n @dev Calculates liquidity * (sqrt(upper) - sqrt(lower))\n @param sqrtPriceAX96 A sqrt price\n @param sqrtPriceBX96 Another sqrt price\n @param liquidity The amount of usable liquidity\n @param roundUp Whether to round the amount up, or down\n @return amount1 Amount of currency1 required to cover a position of size liquidity between the two passed prices"},"implemented":true,"kind":"function","modifiers":[],"name":"getAmount1Delta","nameLocation":"9657:15:53","parameters":{"id":36780,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36773,"mutability":"mutable","name":"sqrtPriceAX96","nameLocation":"9681:13:53","nodeType":"VariableDeclaration","scope":36811,"src":"9673:21:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":36772,"name":"uint160","nodeType":"ElementaryTypeName","src":"9673:7:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":36775,"mutability":"mutable","name":"sqrtPriceBX96","nameLocation":"9704:13:53","nodeType":"VariableDeclaration","scope":36811,"src":"9696:21:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":36774,"name":"uint160","nodeType":"ElementaryTypeName","src":"9696:7:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":36777,"mutability":"mutable","name":"liquidity","nameLocation":"9727:9:53","nodeType":"VariableDeclaration","scope":36811,"src":"9719:17:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":36776,"name":"uint128","nodeType":"ElementaryTypeName","src":"9719:7:53","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":36779,"mutability":"mutable","name":"roundUp","nameLocation":"9743:7:53","nodeType":"VariableDeclaration","scope":36811,"src":"9738:12:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":36778,"name":"bool","nodeType":"ElementaryTypeName","src":"9738:4:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"9672:79:53"},"returnParameters":{"id":36783,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36782,"mutability":"mutable","name":"amount1","nameLocation":"9807:7:53","nodeType":"VariableDeclaration","scope":36811,"src":"9799:15:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36781,"name":"uint256","nodeType":"ElementaryTypeName","src":"9799:7:53","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"9798:17:53"},"scope":36898,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":36854,"nodeType":"FunctionDefinition","src":"11003:432:53","nodes":[],"body":{"id":36853,"nodeType":"Block","src":"11159:276:53","nodes":[],"statements":[{"id":36852,"nodeType":"UncheckedBlock","src":"11169:260:53","statements":[{"expression":{"condition":{"commonType":{"typeIdentifier":"t_int128","typeString":"int128"},"id":36825,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36823,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36818,"src":"11200:9:53","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"30","id":36824,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11212:1:53","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11200:13:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":36849,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"11335:83:53","subExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":36839,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36814,"src":"11352:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":36840,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36816,"src":"11367:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"arguments":[{"id":36843,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36818,"src":"11390:9:53","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int128","typeString":"int128"}],"id":36842,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11382:7:53","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":36841,"name":"uint128","nodeType":"ElementaryTypeName","src":"11382:7:53","typeDescriptions":{}}},"id":36844,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11382:18:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"hexValue":"74727565","id":36845,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"11402:4:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":36838,"name":"getAmount0Delta","nodeType":"Identifier","overloadedDeclarations":[36758,36854],"referencedDeclaration":36758,"src":"11336:15:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint160_$_t_uint128_$_t_bool_$returns$_t_uint256_$","typeString":"function (uint160,uint160,uint128,bool) pure returns (uint256)"}},"id":36846,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11336:71:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36847,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11408:8:53","memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":36339,"src":"11336:80:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (int256)"}},"id":36848,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11336:82:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":36850,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"11200:218:53","trueExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":36827,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36814,"src":"11248:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":36828,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36816,"src":"11263:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"arguments":[{"id":36832,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"11286:10:53","subExpression":{"id":36831,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36818,"src":"11287:9:53","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int128","typeString":"int128"}],"id":36830,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11278:7:53","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":36829,"name":"uint128","nodeType":"ElementaryTypeName","src":"11278:7:53","typeDescriptions":{}}},"id":36833,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11278:19:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"hexValue":"66616c7365","id":36834,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"11299:5:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":36826,"name":"getAmount0Delta","nodeType":"Identifier","overloadedDeclarations":[36758,36854],"referencedDeclaration":36758,"src":"11232:15:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint160_$_t_uint128_$_t_bool_$returns$_t_uint256_$","typeString":"function (uint160,uint160,uint128,bool) pure returns (uint256)"}},"id":36835,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11232:73:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36836,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11306:8:53","memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":36339,"src":"11232:82:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (int256)"}},"id":36837,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11232:84:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"functionReturnParameters":36822,"id":36851,"nodeType":"Return","src":"11193:225:53"}]}]},"documentation":{"id":36812,"nodeType":"StructuredDocumentation","src":"10659:339:53","text":"@notice Helper that gets signed currency0 delta\n @param sqrtPriceAX96 A sqrt price\n @param sqrtPriceBX96 Another sqrt price\n @param liquidity The change in liquidity for which to compute the amount0 delta\n @return amount0 Amount of currency0 corresponding to the passed liquidityDelta between the two prices"},"implemented":true,"kind":"function","modifiers":[],"name":"getAmount0Delta","nameLocation":"11012:15:53","parameters":{"id":36819,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36814,"mutability":"mutable","name":"sqrtPriceAX96","nameLocation":"11036:13:53","nodeType":"VariableDeclaration","scope":36854,"src":"11028:21:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":36813,"name":"uint160","nodeType":"ElementaryTypeName","src":"11028:7:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":36816,"mutability":"mutable","name":"sqrtPriceBX96","nameLocation":"11059:13:53","nodeType":"VariableDeclaration","scope":36854,"src":"11051:21:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":36815,"name":"uint160","nodeType":"ElementaryTypeName","src":"11051:7:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":36818,"mutability":"mutable","name":"liquidity","nameLocation":"11081:9:53","nodeType":"VariableDeclaration","scope":36854,"src":"11074:16:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":36817,"name":"int128","nodeType":"ElementaryTypeName","src":"11074:6:53","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"}],"src":"11027:64:53"},"returnParameters":{"id":36822,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36821,"mutability":"mutable","name":"amount0","nameLocation":"11146:7:53","nodeType":"VariableDeclaration","scope":36854,"src":"11139:14:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":36820,"name":"int256","nodeType":"ElementaryTypeName","src":"11139:6:53","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"11138:16:53"},"scope":36898,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":36897,"nodeType":"FunctionDefinition","src":"11785:432:53","nodes":[],"body":{"id":36896,"nodeType":"Block","src":"11941:276:53","nodes":[],"statements":[{"id":36895,"nodeType":"UncheckedBlock","src":"11951:260:53","statements":[{"expression":{"condition":{"commonType":{"typeIdentifier":"t_int128","typeString":"int128"},"id":36868,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":36866,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36861,"src":"11982:9:53","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"30","id":36867,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11994:1:53","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11982:13:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":36892,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"12117:83:53","subExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":36882,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36857,"src":"12134:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":36883,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36859,"src":"12149:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"arguments":[{"id":36886,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36861,"src":"12172:9:53","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int128","typeString":"int128"}],"id":36885,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12164:7:53","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":36884,"name":"uint128","nodeType":"ElementaryTypeName","src":"12164:7:53","typeDescriptions":{}}},"id":36887,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12164:18:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"hexValue":"74727565","id":36888,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"12184:4:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":36881,"name":"getAmount1Delta","nodeType":"Identifier","overloadedDeclarations":[36811,36897],"referencedDeclaration":36811,"src":"12118:15:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint160_$_t_uint128_$_t_bool_$returns$_t_uint256_$","typeString":"function (uint160,uint160,uint128,bool) pure returns (uint256)"}},"id":36889,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12118:71:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36890,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12190:8:53","memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":36339,"src":"12118:80:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (int256)"}},"id":36891,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12118:82:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":36893,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"11982:218:53","trueExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":36870,"name":"sqrtPriceAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36857,"src":"12030:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":36871,"name":"sqrtPriceBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36859,"src":"12045:13:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"arguments":[{"id":36875,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"12068:10:53","subExpression":{"id":36874,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":36861,"src":"12069:9:53","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int128","typeString":"int128"}],"id":36873,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12060:7:53","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":36872,"name":"uint128","nodeType":"ElementaryTypeName","src":"12060:7:53","typeDescriptions":{}}},"id":36876,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12060:19:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"hexValue":"66616c7365","id":36877,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"12081:5:53","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":36869,"name":"getAmount1Delta","nodeType":"Identifier","overloadedDeclarations":[36811,36897],"referencedDeclaration":36811,"src":"12014:15:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint160_$_t_uint128_$_t_bool_$returns$_t_uint256_$","typeString":"function (uint160,uint160,uint128,bool) pure returns (uint256)"}},"id":36878,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12014:73:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":36879,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12088:8:53","memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":36339,"src":"12014:82:53","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (int256)"}},"id":36880,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12014:84:53","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"functionReturnParameters":36865,"id":36894,"nodeType":"Return","src":"11975:225:53"}]}]},"documentation":{"id":36855,"nodeType":"StructuredDocumentation","src":"11441:339:53","text":"@notice Helper that gets signed currency1 delta\n @param sqrtPriceAX96 A sqrt price\n @param sqrtPriceBX96 Another sqrt price\n @param liquidity The change in liquidity for which to compute the amount1 delta\n @return amount1 Amount of currency1 corresponding to the passed liquidityDelta between the two prices"},"implemented":true,"kind":"function","modifiers":[],"name":"getAmount1Delta","nameLocation":"11794:15:53","parameters":{"id":36862,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36857,"mutability":"mutable","name":"sqrtPriceAX96","nameLocation":"11818:13:53","nodeType":"VariableDeclaration","scope":36897,"src":"11810:21:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":36856,"name":"uint160","nodeType":"ElementaryTypeName","src":"11810:7:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":36859,"mutability":"mutable","name":"sqrtPriceBX96","nameLocation":"11841:13:53","nodeType":"VariableDeclaration","scope":36897,"src":"11833:21:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":36858,"name":"uint160","nodeType":"ElementaryTypeName","src":"11833:7:53","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":36861,"mutability":"mutable","name":"liquidity","nameLocation":"11863:9:53","nodeType":"VariableDeclaration","scope":36897,"src":"11856:16:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":36860,"name":"int128","nodeType":"ElementaryTypeName","src":"11856:6:53","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"}],"src":"11809:64:53"},"returnParameters":{"id":36865,"nodeType":"ParameterList","parameters":[{"constant":false,"id":36864,"mutability":"mutable","name":"amount1","nameLocation":"11928:7:53","nodeType":"VariableDeclaration","scope":36897,"src":"11921:14:53","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":36863,"name":"int256","nodeType":"ElementaryTypeName","src":"11921:6:53","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"11920:16:53"},"scope":36898,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"SqrtPriceMath","contractDependencies":[],"contractKind":"library","documentation":{"id":36377,"nodeType":"StructuredDocumentation","src":"249:167:53","text":"@title Functions based on Q64.96 sqrt price and liquidity\n @notice Contains the math that uses square root of price as a Q64.96 and liquidity to compute deltas"},"fullyImplemented":true,"linearizedBaseContracts":[36898],"name":"SqrtPriceMath","nameLocation":"424:13:53","scope":36899,"usedErrors":[36382,36384,36386,36388],"usedEvents":[]}],"license":"GPL-2.0-or-later"},"id":53}